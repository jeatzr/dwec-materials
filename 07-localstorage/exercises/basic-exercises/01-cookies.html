<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <body>
    <div class="container">
      <h2>Hello <span id="span-nombre">user</span></h2>
      <h2>Your favorite color <span id="span-color">color</span></h2>
      <form id="datos" action="#">
        <input type="text" id="name" placeholder="White your username" />
        <select
          id="color"
          name="select"
          placeholder="Select your favorite color"
        >
          <option value="red">Red</option>
          <option value="yellow" selected>Yellow</option>
          <option value="cyan">Cyan</option>
        </select>
        <button type="submit">Send</button>
        <button type="button">Delete all cookies</button>
      </form>
    </div>
  </body>

  <script type="module">
    import { setCookie, getCookie } from "./cookies.js";
    document.addEventListener("DOMContentLoaded", (e) => {
      const form = document.getElementById("datos");
      const inputName = document.getElementById("name");
      const spanName = document.getElementById("span-nombre");

      //read the username coookie
      const userName = getCookie("username");
      spanName.textContent = userName;

      form.addEventListener("submit", (e) => {
        setCookie("username", inputName.value, 7);
      });
    });
  </script>
</html>
